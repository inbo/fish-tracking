"PJ_ontbrekende_stukken_reduced",
projection_code)
# RIVER FROME (UK)
frome <- load.shapefile("./data/UK/Frome/Statutory_Main_River_Map.shp",
"Statutory_Main_River_Map",
projection_code)
# Frome network
locations.receivers <- load.receivers("./data/receivernetwork_frome_2014.csv",
projection_code)
locations.receivers <- load.receivers("./data/receivernetwork_20160526.csv",
coordinate.string)
# LifeWatch network
locations.receivers <- load.receivers("./data/receivernetwork_20160526.csv",
projection_code)
library("sp")
library("sf")
library("rgdal")
library("rgeos")
library("raster")
library("gdistance")
library("assertthat")
# --------------------
# INTRODUCTION
# --------------------
# Define the projection for the analysis:
# coordinate.string <- CRS("+init=epsg:32631")
projection_code <- 32631
# Load the functionalities from the functions file:
source("receiver_distance_fun.R")
# --------------------
# LOAD SHAPEFILES
# --------------------
# RIVER SECTION
river.names <- c("Schelde", "Durme", "Rupel", "Netekanaal",
"Albertkanaal", "Royerssluis", "Leopolddok",
"Amerikadok", "Vijfde Havendok", "Kanaaldok B3", "Delwaidedok",
"Schelde-Rijnkanaal", "Berendrechtsluis", "Hansadok",
"Kanaaldok B2", "Schelde-Rijn Kanaal",
"Zandvlietsluis", "Ringvaart", "Tijarm",
"Kanaal van Gent naar Oostende")
## for future usage:
# "Meuse", "Juliana Kanaal", "Canal Albert", "Demer", "Dijle"
rivers <- load.shapefile("./data/lowcountries_water/LowCountries_Water_2004.shp",
"LowCountries_Water_2004",
projection_code,
river.names)
# NETE SECTION (precompiled as Europe entire file is very large)
nete <- load.shapefile("./data/europe_water/nete.shp",
"nete",
projection_code,
subset.names = NULL)
## to restart from the entire Europe shapefile:
## nete <- load.shapefile("./data/europe_water/Europe_Water_2008.shp",
##                        "Europe_Water_2008",
##                        projection_code,
##                        c("Nete", "Grote Nete"))
# WESTERSCHELDE
westerschelde <- load.shapefile("./data/westerschelde_water/seavox_sea_area_polygons_v13.shp",
"seavox_sea_area_polygons_v13",
projection_code)
# BELGIAN PART OF THE NORTH SEA
sea <- load.shapefile("./data/PJ_manual_water/PJ_ontbrekende_stukken_reduced.shp",
"PJ_ontbrekende_stukken_reduced",
projection_code)
rivers <- as(rivers, "Spatial")
nete <- as(nete, "Spatial")
westerschelde <- as(westerschelde, "Spatial")
sea <- as(sea, "Spatial")
study.area <- gUnion(rivers, nete)
study.area <- gUnion(study.area, westerschelde)
study.area <- gUnion(study.area, sea)
# clean workspace from individual shapefiles
rm(rivers, nete, westerschelde, sea)
# LifeWatch network
locations.receivers <- load.receivers("./data/receivernetwork_20160526.csv",
projection_code)
nrows <- 2000
ncols <- 4000
study.area.binary <- shape.to.binarymask(study.area, nrows, ncols)
library("sp")
library("rgdal")
library("rgeos")
library("raster")
library("gdistance")
library("assertthat")
# --------------------
# INTRODUCTION
# --------------------
# Define the projection for the analysis:
coordinate.string <- CRS("+init=epsg:32631")
# Load the functionalities from the functions file:
source("receiver_distance_fun.R")
# --------------------
# LOAD SHAPEFILES
# --------------------
# RIVER SECTION
river.names <- c("Schelde", "Durme", "Rupel", "Netekanaal",
"Albertkanaal", "Royerssluis", "Leopolddok",
"Amerikadok", "Vijfde Havendok", "Kanaaldok B3", "Delwaidedok",
"Schelde-Rijnkanaal", "Berendrechtsluis", "Hansadok",
"Kanaaldok B2", "Schelde-Rijn Kanaal",
"Zandvlietsluis", "Ringvaart", "Tijarm",
"Kanaal van Gent naar Oostende")
## for future usage:
# "Meuse", "Juliana Kanaal", "Canal Albert", "Demer", "Dijle"
rivers <- load.shapefile("./data/lowcountries_water/LowCountries_Water_2004.shp",
"LowCountries_Water_2004",
coordinate.string,
river.names)
# NETE SECTION (precompiled as Europe entire file is very large)
nete <- load.shapefile("./data/europe_water/nete.shp",
"nete",
coordinate.string,
subset.names = NULL)
## to restart from the entire Europe shapefile:
## nete <- load.shapefile("./data/europe_water/Europe_Water_2008.shp",
##                        "Europe_Water_2008",
##                        projection_code,
##                        c("Nete", "Grote Nete"))
# WESTERSCHELDE
westerschelde <- load.shapefile("./data/westerschelde_water/seavox_sea_area_polygons_v13.shp",
"seavox_sea_area_polygons_v13",
coordinate.string)
# BELGIAN PART OF THE NORTH SEA
sea <- load.shapefile("./data/PJ_manual_water/PJ_ontbrekende_stukken_reduced.shp",
"PJ_ontbrekende_stukken_reduced",
coordinate.string)
class(westerschelde)
# RIVER FROME (UK)
frome <- load.shapefile("./data/UK/Frome/Statutory_Main_River_Map.shp",
"Statutory_Main_River_Map",
coordinate.string)
class(frome)
# -----------------------
# COMBINE THE SHAPE FILES
# -----------------------
study.area <- gUnion(rivers, nete)
study.area <- gUnion(study.area, westerschelde)
study.area <- gUnion(study.area, sea)
# LifeWatch network
locations.receivers <- load.receivers("./data/receivernetwork_20160526.csv",
coordinate.string)
# -----------------------
# COMBINE THE SHAPE FILES
# -----------------------
study.area <- gUnion(rivers, nete)
study.area <- gUnion(study.area, westerschelde)
study.area <- gUnion(study.area, sea)
# clean workspace from individual shapefiles
rm(rivers, nete, westerschelde, sea)
# LifeWatch network
locations.receivers <- load.receivers("./data/receivernetwork_20160526.csv",
coordinate.string)
nrows <- 2000
ncols <- 4000
study.area.binary <- shape.to.binarymask(study.area, nrows, ncols)
library("sp")
library("rgdal")
library("rgeos")
library("raster")
library("gdistance")
library("assertthat")
# --------------------
# INTRODUCTION
# --------------------
# Define the projection for the analysis:
coordinate.string <- CRS("+init=epsg:32631")
# Load the functionalities from the functions file:
source("receiver_distance_fun.R")
# --------------------
# LOAD SHAPEFILES
# --------------------
# RIVER SECTION
river.names <- c("Schelde", "Durme", "Rupel", "Netekanaal",
"Albertkanaal", "Royerssluis", "Leopolddok",
"Amerikadok", "Vijfde Havendok", "Kanaaldok B3", "Delwaidedok",
"Schelde-Rijnkanaal", "Berendrechtsluis", "Hansadok",
"Kanaaldok B2", "Schelde-Rijn Kanaal",
"Zandvlietsluis", "Ringvaart", "Tijarm",
"Kanaal van Gent naar Oostende")
## for future usage:
# "Meuse", "Juliana Kanaal", "Canal Albert", "Demer", "Dijle"
rivers <- load.shapefile("./data/lowcountries_water/LowCountries_Water_2004.shp",
"LowCountries_Water_2004",
coordinate.string,
river.names)
# NETE SECTION (precompiled as Europe entire file is very large)
nete <- load.shapefile("./data/europe_water/nete.shp",
"nete",
coordinate.string,
subset.names = NULL)
## to restart from the entire Europe shapefile:
## nete <- load.shapefile("./data/europe_water/Europe_Water_2008.shp",
##                        "Europe_Water_2008",
##                        projection_code,
##                        c("Nete", "Grote Nete"))
# WESTERSCHELDE
westerschelde <- load.shapefile("./data/westerschelde_water/seavox_sea_area_polygons_v13.shp",
"seavox_sea_area_polygons_v13",
coordinate.string)
# BELGIAN PART OF THE NORTH SEA
sea <- load.shapefile("./data/PJ_manual_water/PJ_ontbrekende_stukken_reduced.shp",
"PJ_ontbrekende_stukken_reduced",
coordinate.string)
study.area <- gUnion(rivers, nete)
study.area <- gUnion(study.area, westerschelde)
study.area <- gUnion(study.area, sea)
# LifeWatch network
locations.receivers <- load.receivers("./data/receivernetwork_20160526.csv",
coordinate.string)
nrows <- 2000
ncols <- 4000
study.area.binary <- shape.to.binarymask(study.area, nrows, ncols)
class(nete)
# RIVER FROME (UK)
frome <- load.shapefile("./data/UK/Frome/Statutory_Main_River_Map.shp",
"Statutory_Main_River_Map",
coordinate.string)
study.area <- frome
# Frome network
locations.receivers <- load.receivers("./data/receivernetwork_2014_frome.csv",
coordinate.string)
coordinate.string <- CRS("+init=epsg:32631")
# Load the functionalities from the functions file:
source("receiver_distance_fun.R")
# --------------------
# LOAD SHAPEFILES
# --------------------
# RIVER SECTION
river.names <- c("Schelde", "Durme", "Rupel", "Netekanaal",
"Albertkanaal", "Royerssluis", "Leopolddok",
"Amerikadok", "Vijfde Havendok", "Kanaaldok B3", "Delwaidedok",
"Schelde-Rijnkanaal", "Berendrechtsluis", "Hansadok",
"Kanaaldok B2", "Schelde-Rijn Kanaal",
"Zandvlietsluis", "Ringvaart", "Tijarm",
"Kanaal van Gent naar Oostende")
## for future usage:
# "Meuse", "Juliana Kanaal", "Canal Albert", "Demer", "Dijle"
rivers <- load.shapefile("./data/lowcountries_water/LowCountries_Water_2004.shp",
"LowCountries_Water_2004",
coordinate.string,
river.names)
# NETE SECTION (precompiled as Europe entire file is very large)
nete <- load.shapefile("./data/europe_water/nete.shp",
"nete",
coordinate.string,
subset.names = NULL)
## to restart from the entire Europe shapefile:
## nete <- load.shapefile("./data/europe_water/Europe_Water_2008.shp",
##                        "Europe_Water_2008",
##                        projection_code,
##                        c("Nete", "Grote Nete"))
# WESTERSCHELDE
westerschelde <- load.shapefile("./data/westerschelde_water/seavox_sea_area_polygons_v13.shp",
"seavox_sea_area_polygons_v13",
coordinate.string)
# BELGIAN PART OF THE NORTH SEA
sea <- load.shapefile("./data/PJ_manual_water/PJ_ontbrekende_stukken_reduced.shp",
"PJ_ontbrekende_stukken_reduced",
coordinate.string)
study.area <- gUnion(rivers, nete)
study.area <- gUnion(study.area, westerschelde)
study.area <- gUnion(study.area, sea)
# clean workspace from individual shapefiles
rm(rivers, nete, westerschelde, sea)
# LifeWatch network
locations.receivers <- load.receivers("./data/receivernetwork_20160526.csv",
coordinate.string)
nrows <- 2000
ncols <- 4000
study.area.binary <- shape.to.binarymask(study.area, nrows, ncols)
study.area.binary.extended <- adapt.binarymask(study.area.binary,
locations.receivers)
# write this to disk for loading in e.g. QGIS
writeRaster(study.area.binary.extended, "./results/study_area_binary", "GTiff",
overwrite = TRUE)
control.mask(study.area.binary.extended, locations.receivers)
# -------------------------------
# Derive distances with gdistance
# -------------------------------
cst.dst.frame <- get.distance.matrix(study.area.binary.extended,
locations.receivers)
# --------------------------------
# ADJUST MASK TO CONTAIN RECEIVERS
# --------------------------------
study.area.binary.extended <- adapt.binarymask(study.area.binary,
locations.receivers)
# write this to disk for loading in e.g. QGIS
writeRaster(study.area.binary.extended, "./results/study_area_binary", "GTiff",
overwrite = TRUE)
# --------------------------------
# CONTROL MASK
# --------------------------------
# Control the mask characteristics and receiver location inside mask:
# (if an error occurs, this need to be checked before deriving distances again)
control.mask(study.area.binary.extended, locations.receivers)
plot(study.area)
plot(study.area.binary)
plot(study.area.binary.extended)
library("sp")
library("rgdal")
library("rgeos")
library("raster")
library("gdistance")
library("assertthat")
# --------------------
# INTRODUCTION
# --------------------
# Define the projection for the analysis:
coordinate.string <- CRS("+init=epsg:32631")
# Load the functionalities from the functions file:
source("receiver_distance_fun.R")
# --------------------
# LOAD SHAPEFILES
# --------------------
# RIVER SECTION
river.names <- c("Schelde", "Durme", "Rupel", "Netekanaal",
"Albertkanaal", "Royerssluis", "Leopolddok",
"Amerikadok", "Vijfde Havendok", "Kanaaldok B3", "Delwaidedok",
"Schelde-Rijnkanaal", "Berendrechtsluis", "Hansadok",
"Kanaaldok B2", "Schelde-Rijn Kanaal",
"Zandvlietsluis", "Ringvaart", "Tijarm",
"Kanaal van Gent naar Oostende")
## for future usage:
# "Meuse", "Juliana Kanaal", "Canal Albert", "Demer", "Dijle"
rivers <- load.shapefile("./data/lowcountries_water/LowCountries_Water_2004.shp",
"LowCountries_Water_2004",
coordinate.string,
river.names)
# NETE SECTION (precompiled as Europe entire file is very large)
nete <- load.shapefile("./data/europe_water/nete.shp",
"nete",
coordinate.string,
subset.names = NULL)
## to restart from the entire Europe shapefile:
## nete <- load.shapefile("./data/europe_water/Europe_Water_2008.shp",
##                        "Europe_Water_2008",
##                        projection_code,
##                        c("Nete", "Grote Nete"))
# WESTERSCHELDE
westerschelde <- load.shapefile("./data/westerschelde_water/seavox_sea_area_polygons_v13.shp",
"seavox_sea_area_polygons_v13",
coordinate.string)
# BELGIAN PART OF THE NORTH SEA
sea <- load.shapefile("./data/PJ_manual_water/PJ_ontbrekende_stukken_reduced.shp",
"PJ_ontbrekende_stukken_reduced",
coordinate.string)
study.area <- gUnion(rivers, nete)
study.area <- gUnion(study.area, westerschelde)
study.area <- gUnion(study.area, sea)
# LifeWatch network
locations.receivers <- load.receivers("./data/receivernetwork_20160526.csv",
coordinate.string)
library("sp")
library("rgdal")
library("rgeos")
library("raster")
library("gdistance")
library("assertthat")
# --------------------
# INTRODUCTION
# --------------------
# Define the projection for the analysis:
coordinate.string <- CRS("+init=epsg:32631")
# Load the functionalities from the functions file:
source("receiver_distance_fun.R")
# --------------------
# LOAD SHAPEFILES
# --------------------
# RIVER SECTION
river.names <- c("Schelde", "Durme", "Rupel", "Netekanaal",
"Albertkanaal", "Royerssluis", "Leopolddok",
"Amerikadok", "Vijfde Havendok", "Kanaaldok B3", "Delwaidedok",
"Schelde-Rijnkanaal", "Berendrechtsluis", "Hansadok",
"Kanaaldok B2", "Schelde-Rijn Kanaal",
"Zandvlietsluis", "Ringvaart", "Tijarm",
"Kanaal van Gent naar Oostende")
## for future usage:
# "Meuse", "Juliana Kanaal", "Canal Albert", "Demer", "Dijle"
rivers <- load.shapefile("./data/lowcountries_water/LowCountries_Water_2004.shp",
"LowCountries_Water_2004",
coordinate.string,
river.names)
# NETE SECTION (precompiled as Europe entire file is very large)
nete <- load.shapefile("./data/europe_water/nete.shp",
"nete",
coordinate.string,
subset.names = NULL)
## to restart from the entire Europe shapefile:
## nete <- load.shapefile("./data/europe_water/Europe_Water_2008.shp",
##                        "Europe_Water_2008",
##                        projection_code,
##                        c("Nete", "Grote Nete"))
# WESTERSCHELDE
westerschelde <- load.shapefile("./data/westerschelde_water/seavox_sea_area_polygons_v13.shp",
"seavox_sea_area_polygons_v13",
coordinate.string)
# BELGIAN PART OF THE NORTH SEA
sea <- load.shapefile("./data/PJ_manual_water/PJ_ontbrekende_stukken_reduced.shp",
"PJ_ontbrekende_stukken_reduced",
coordinate.string)
study.area <- gUnion(rivers, nete)
study.area <- gUnion(study.area, westerschelde)
study.area <- gUnion(study.area, sea)
# LifeWatch network
locations.receivers <- load.receivers("./data/receivernetwork_20160526.csv",
coordinate.string)
nrows <- 2000
ncols <- 4000
study.area.binary <- shape.to.binarymask(study.area, nrows, ncols)
# --------------------------------
# ADJUST MASK TO CONTAIN RECEIVERS
# --------------------------------
study.area.binary.extended <- adapt.binarymask(study.area.binary,
locations.receivers)
# write this to disk for loading in e.g. QGIS
writeRaster(study.area.binary.extended, "./results/study_area_binary", "GTiff",
overwrite = TRUE)
# --------------------------------
# CONTROL MASK
# --------------------------------
# Control the mask characteristics and receiver location inside mask:
# (if an error occurs, this need to be checked before deriving distances again)
control.mask(study.area.binary.extended, locations.receivers)
# -------------------------------
# Derive distances with gdistance
# -------------------------------
cst.dst.frame <- get.distance.matrix(study.area.binary.extended,
locations.receivers)
study.area.binary <- shape.to.binarymask(study.area, nrows, ncols)
# --------------------------------
# ADJUST MASK TO CONTAIN RECEIVERS
# --------------------------------
study.area.binary.extended <- adapt.binarymask(study.area.binary,
locations.receivers)
# write this to disk for loading in e.g. QGIS
writeRaster(study.area.binary.extended, "./results/study_area_binary", "GTiff",
overwrite = TRUE)
# --------------------------------
# CONTROL MASK
# --------------------------------
# Control the mask characteristics and receiver location inside mask:
# (if an error occurs, this need to be checked before deriving distances again)
control.mask(study.area.binary.extended, locations.receivers)
# -------------------------------
# Derive distances with gdistance
# -------------------------------
cst.dst.frame <- get.distance.matrix(study.area.binary.extended,
locations.receivers)
library("sp")
library("rgdal")
library("rgeos")
library("raster")
library("gdistance")
library("assertthat")
# --------------------
# INTRODUCTION
# --------------------
# Define the projection for the analysis:
coordinate.string <- CRS("+init=epsg:32631")
# Load the functionalities from the functions file:
source("receiver_distance_fun.R")
# RIVER FROME (UK)
frome <- load.shapefile("./data/UK/Frome/Statutory_Main_River_Map.shp",
"Statutory_Main_River_Map",
coordinate.string)
study.area <- frome
# Frome network
locations.receivers <- load.receivers("./data/receivernetwork_2014_frome.csv",
coordinate.string)
nrows <- 2000
ncols <- 4000
study.area.binary <- shape.to.binarymask(study.area, nrows, ncols)
# --------------------------------
# ADJUST MASK TO CONTAIN RECEIVERS
# --------------------------------
study.area.binary.extended <- adapt.binarymask(study.area.binary,
locations.receivers)
# write this to disk for loading in e.g. QGIS
writeRaster(study.area.binary.extended, "./results/study_area_binary", "GTiff",
overwrite = TRUE)
# --------------------------------
# CONTROL MASK
# --------------------------------
# Control the mask characteristics and receiver location inside mask:
# (if an error occurs, this need to be checked before deriving distances again)
control.mask(study.area.binary.extended, locations.receivers)
# -------------------------------
# Derive distances with gdistance
# -------------------------------
cst.dst.frame <- get.distance.matrix(study.area.binary.extended,
locations.receivers)
# NETE SECTION (precompiled as Europe entire file is very large)
nete <- load.shapefile("./data/europe_water/nete.shp",
"nete",
coordinate.string,
subset.names = NULL)
plot(nete)
river.names <- c("Schelde", "Durme", "Rupel", "Netekanaal",
"Albertkanaal", "Royerssluis", "Leopolddok",
"Amerikadok", "Vijfde Havendok", "Kanaaldok B3", "Delwaidedok",
"Schelde-Rijnkanaal", "Berendrechtsluis", "Hansadok",
"Kanaaldok B2", "Schelde-Rijn Kanaal",
"Zandvlietsluis", "Ringvaart", "Tijarm",
"Kanaal van Gent naar Oostende")
## for future usage:
# "Meuse", "Juliana Kanaal", "Canal Albert", "Demer", "Dijle"
rivers <- load.shapefile("./data/lowcountries_water/LowCountries_Water_2004.shp",
"LowCountries_Water_2004",
coordinate.string,
river.names)
plot(rivers)
